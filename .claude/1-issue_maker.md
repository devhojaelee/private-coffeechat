# Issue Maker - Linear ì´ìŠˆ ìƒì„± ê°€ì´ë“œ

## íƒœìŠ¤í¬ ìƒì„± êµ¬ì¡°

### ê¸°ë³¸ êµ¬ì¡°
- **task**: êµ¬í˜„í•  ê¸°ëŠ¥ì˜ ìµœìƒìœ„ ë‹¨ìœ„
- **ì²´í¬ë¦¬ìŠ¤íŠ¸**: ê° task ë‚´ì—ì„œ ì™„ë£Œí•´ì•¼ í•  ì„¸ë¶€ í•­ëª©ë“¤
- **parent-sub issue íŒ¨í„´**: ë³µì¡í•œ ê¸°ëŠ¥ì„ parentì™€ ì—¬ëŸ¬ sub issueë¡œ ë¶„ë¦¬

### Parent-Sub Issue íŒ¨í„´ ê·œì¹™

1. **ì½”ë“œ ê²¹ì¹¨ ì›ì¹™**
   - ì‘ì—…í•˜ëŠ” ì½”ë“œê°€ ê²¹ì¹˜ëŠ” ê²ƒì€ ë°˜ë“œì‹œ **parent-sub issueë¡œ ì—°ê²°**í•©ë‹ˆë‹¤
   - ê°™ì€ parent ì•„ë˜ì— ìˆëŠ” **Sub issueëŠ” ë³‘ë ¬ë¡œ ì‘ì—…**í•˜ê¸° ë•Œë¬¸ì— **ì½”ë“œê°€ ê²¹ì¹˜ë©´ ì•ˆ ë©ë‹ˆë‹¤**

2. **ì˜ˆì‹œ**
   ```
   Parent Issue: ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„
   â”œâ”€â”€ Sub Issue 1: ë¡œê·¸ì¸ UI ì»´í¬ë„ŒíŠ¸ (templates/login.htmlë§Œ ìˆ˜ì •)
   â”œâ”€â”€ Sub Issue 2: íšŒì›ê°€ì… API (app.py íšŒì›ê°€ì… ë¡œì§ë§Œ ìˆ˜ì •)
   â””â”€â”€ Sub Issue 3: ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ (auth_middleware.pyë§Œ ìˆ˜ì •)
   ```

   âŒ **ì˜ëª»ëœ ì˜ˆ**: Sub Issue 1ê³¼ 2ê°€ ëª¨ë‘ app.pyë¥¼ ìˆ˜ì •í•˜ëŠ” ê²½ìš°
   âœ… **ì˜¬ë°”ë¥¸ ì˜ˆ**: ê° Sub Issueê°€ ë‹¤ë¥¸ íŒŒì¼ì„ ìˆ˜ì •í•˜ê±°ë‚˜, ê°™ì€ íŒŒì¼ì˜ ë‹¤ë¥¸ ì˜ì—­ì„ ìˆ˜ì •

## ì‘ì—… ë‹¨ê³„

### 1. task.json íŒŒì¼ ì‘ì„±
- í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `task.json` íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤
- ì´ë¯¸ íŒŒì¼ì´ ìˆìœ¼ë©´ **ë®ì–´ì”Œì›ë‹ˆë‹¤**
- ëª¨ë“  taskì™€ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ êµ¬ì¡°í™”í•˜ì—¬ ê¸°ë¡í•©ë‹ˆë‹¤
- **ì´ íŒŒì¼ì€ Linear ì´ìŠˆ ìƒì„± ì‹œì—ë§Œ ì‚¬ìš©ë©ë‹ˆë‹¤ (ì¼íšŒì„± ì…ë ¥)**
- **ì´ìŠˆ ìƒì„± í›„ì—ëŠ” Linearê°€ single source of truthì…ë‹ˆë‹¤**

**task.json êµ¬ì¡° ì˜ˆì‹œ**:
```json
{
  "team": "100products",
  "project": "Coffeechat",
  "tasks": [
    {
      "title": "ì´ë©”ì¼ ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„",
      "type": "parent",
      "description": "ì‚¬ìš©ì ì´ë©”ì¼ ì¸ì¦ ê¸°ëŠ¥ ì „ì²´ êµ¬í˜„",
      "sub_issues": [
        {
          "title": "ì´ë©”ì¼ ì¸ì¦ ì½”ë“œ ìƒì„± ë° ë°œì†¡",
          "description": "SMTPë¥¼ í†µí•œ ì¸ì¦ ì½”ë“œ ì´ë©”ì¼ ë°œì†¡ ê¸°ëŠ¥",
          "priority": 1,
          "files": ["email_utils.py"],
          "checklist": [
            "ì¸ì¦ ì½”ë“œ ìƒì„± í•¨ìˆ˜ êµ¬í˜„",
            "SMTP ì´ë©”ì¼ ë°œì†¡ ë¡œì§",
            "í…ŒìŠ¤íŠ¸ ì‘ì„±"
          ]
        },
        {
          "title": "ì¸ì¦ ì½”ë“œ ê²€ì¦ API",
          "description": "ì´ë©”ì¼ ì¸ì¦ ì½”ë“œ ê²€ì¦ ì—”ë“œí¬ì¸íŠ¸",
          "priority": 2,
          "files": ["app.py"],
          "checklist": [
            "POST /verify-email ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„",
            "ì„¸ì…˜ ê´€ë¦¬ ë¡œì§",
            "í…ŒìŠ¤íŠ¸ ì‘ì„±"
          ]
        },
        {
          "title": "ì¸ì¦ UI í†µí•©",
          "description": "ì´ë©”ì¼ ì¸ì¦ í…œí”Œë¦¿ ë° í”„ë¡ íŠ¸ì—”ë“œ",
          "priority": 3,
          "files": ["templates/verify_email.html", "static/css/verify.css"],
          "checklist": [
            "ì¸ì¦ ì´ë©”ì¼ í…œí”Œë¦¿ ìƒì„±",
            "ì¸ì¦ ì„±ê³µ/ì‹¤íŒ¨ í˜ì´ì§€",
            "ìŠ¤íƒ€ì¼ë§"
          ]
        }
      ]
    }
  ]
}
```

**í•„ë“œ ì„¤ëª…**:
- `team`: Linear team name
- `project`: Linear project name
- `title`: ì´ìŠˆ ì œëª©
- `type`: parent (sub_issues ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ parent)
- `description`: ì´ìŠˆ ìƒì„¸ ì„¤ëª…
- `priority`: ìš°ì„ ìˆœìœ„ (ìˆ«ìê°€ ë‚®ì„ìˆ˜ë¡ ë†’ì€ ìš°ì„ ìˆœìœ„, ttalkak.sh ì‹¤í–‰ ìˆœì„œ)
- `files`: ìˆ˜ì •í•  íŒŒì¼ ëª©ë¡ (ë³‘ë ¬ ì‘ì—… ì¶©ëŒ ë°©ì§€)
- `checklist`: ì²´í¬ë¦¬ìŠ¤íŠ¸ í•­ëª©ë“¤

### 2. ì‘ì—… ì›ì¹™

#### ê¸°ëŠ¥ ë‹¨ìœ„ë¡œ Task ìª¼ê°œê¸°
- í•œ ë²ˆì— êµ¬í˜„í•  ìˆ˜ ìˆëŠ” **ìµœì†Œ ë‹¨ìœ„**ë¡œ taskë¥¼ ë¶„ë¦¬í•©ë‹ˆë‹¤
- ê° taskëŠ” **í•˜ë‚˜ì˜ ëª…í™•í•œ ëª©í‘œ**ë¥¼ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤
- ì˜ˆìƒ ì‘ì—… ì‹œê°„ì´ **2-4ì‹œê°„ì„ ë„˜ì§€ ì•Šë„ë¡** ìª¼ê°­ë‹ˆë‹¤

#### ì½”ë“œ ê²¹ì¹¨ ë°©ì§€ ë° Lock ì „ëµ

**ì›ì¹™**: ê°™ì€ parentì˜ sub issueëŠ” **ë‹¤ë¥¸ íŒŒì¼** ë˜ëŠ” **ë‹¤ë¥¸ í•¨ìˆ˜**ë¥¼ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤

**Lockì˜ ì—­í• **:
- **ëª©ì **: ë™ì‹œ ì‘ì—… ë°©ì§€ ë° ìˆœì„œ ë³´ì¥ (ì¶©ëŒ ì™„ì „ ë°©ì§€ ì•„ë‹˜)
- **ìë™ ì²˜ë¦¬**: ttalkak.shê°€ Linear Lock ë ˆì´ë¸”ë¡œ ìë™ ê´€ë¦¬
- **ì¶©ëŒ í•´ê²°**: ì‹œê°„ì°¨ ì¶©ëŒì€ integrate.shì—ì„œ í•´ê²°

**ì‹œë‚˜ë¦¬ì˜¤ë³„ ì²˜ë¦¬ (ì˜ˆì‹œ)**:

1. **ì™„ì „ ë…ë¦½ì  (Lock ë¶ˆí•„ìš”)**
   ```
   Sub Issue 1: templates/login.html ìˆ˜ì •
   Sub Issue 2: static/css/style.css ìˆ˜ì •
   Sub Issue 3: email_utils.py ìˆ˜ì •
   â†’ ë³‘ë ¬ ì‘ì—…, Lock ì—†ìŒ
   ```

2. **ê°™ì€ íŒŒì¼, ë‹¤ë¥¸ ì˜ì—­ (Lock í•„ìš”)**
   ```
   Sub Issue 1: app.py ë¡œê·¸ì¸ í•¨ìˆ˜ë§Œ ìˆ˜ì •
   Sub Issue 2: app.py íšŒì›ê°€ì… í•¨ìˆ˜ë§Œ ìˆ˜ì •
   â†’ Lock: app.py
   â†’ Sub Issue 1 ì™„ë£Œ í›„ â†’ Sub Issue 2 ì‹œì‘
   ```

3. **ê°™ì€ íŒŒì¼, í° ìˆ˜ì • (í†µí•© ê¶Œì¥)**
   ```
   Sub Issue 1: app.py ëŒ€ê·œëª¨ ë¦¬íŒ©í† ë§
   Sub Issue 2: app.py ìƒˆ ê¸°ëŠ¥ ì¶”ê°€
   â†’ í•˜ë‚˜ì˜ taskë¡œ í†µí•©í•˜ê±°ë‚˜
   â†’ Sequential parent-sub êµ¬ì¡°ë¡œ ë¶„ë¦¬
   ```

### 2. Linear Issue ìë™ ìƒì„±

task.json ì‘ì„± í›„, Claudeì—ê²Œ ë‹¤ìŒê³¼ ê°™ì´ ìš”ì²­:

```
@task.json ì½ê³  Linear MCPë¡œ ì´ìŠˆ ìƒì„±í•´ì¤˜.

- Team: 100products
- Project: Coffeechat
- Parent issue ë¨¼ì € ìƒì„± í›„ Sub issue ì—°ê²°
- ê° Sub issueì˜ descriptionì— files ëª©ë¡ í¬í•¨
- ìš°ì„ ìˆœìœ„ëŠ” ìˆœì„œëŒ€ë¡œ ì„¤ì •
```

Claudeê°€ ìë™ìœ¼ë¡œ:
1. task.json íŒŒì‹±
2. Parent issue ìƒì„±
3. Sub issue ìƒì„± ë° parent ì—°ê²°
4. ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ issue descriptionì— í¬í•¨
5. ìƒì„±ëœ issue ID ëª©ë¡ ë°˜í™˜

### 3. ttalkak.sh ì‹¤í–‰ (ìë™ êµ¬í˜„)

Linear ì´ìŠˆ ìƒì„± ì™„ë£Œ í›„, ìë™ìœ¼ë¡œ Sub Issueë“¤ì„ ë³‘ë ¬ êµ¬í˜„:
```bash
cd .claude
./ttalkak.sh {Parent-Issue-ID}
```

ì˜ˆ: `./ttalkak.sh 100P-123`

**ìë™ ì²˜ë¦¬ ë‚´ìš© (ì˜ˆì‹œ)**:
- Parent ë¸Œëœì¹˜ ìƒì„±: `feature/100P-123-email-verification`
- Sub ë¸Œëœì¹˜ ìƒì„± ë° êµ¬í˜„:
  - `feature/100P-124-email-send`
  - `feature/100P-125-email-verify`
  - `feature/100P-126-email-ui`
- ê° Sub ë¸Œëœì¹˜ì—ì„œ **commit ë° push** (ë°±ì—… ë° ê³µìœ )

### 4. integrate.sh ì‹¤í–‰ (í†µí•©)

Sub Issue êµ¬í˜„ ì™„ë£Œ í›„, Parent ë¸Œëœì¹˜ì— í†µí•©:
```bash
cd .claude
./integrate.sh {Parent-Issue-ID}
```

ì˜ˆ: `./integrate.sh 100P-123`

**ìë™ ì²˜ë¦¬ ë‚´ìš©**:
1. Parent ë¸Œëœì¹˜ë¡œ checkout
2. **Parent ë¸Œëœì¹˜ë¥¼ mainì—ì„œ rebase** (main ìµœì‹  ìƒíƒœ ë°˜ì˜)
   - ì¶©ëŒ ì‹œ Claude Codeì™€ ëŒ€í™”í˜•ìœ¼ë¡œ í•´ê²°
3. Sub ë¸Œëœì¹˜ë“¤ì„ ìš°ì„ ìˆœìœ„ ìˆœìœ¼ë¡œ merge
   - ì¶©ëŒ ì‹œ Claude Codeì™€ ëŒ€í™”í˜•ìœ¼ë¡œ í•´ê²°
4. í†µí•© ì™„ë£Œ

### 5. í†µí•© í…ŒìŠ¤íŠ¸ ë° PR ìƒì„±

í†µí•© ì™„ë£Œ í›„ ì‚¬ìš©ìê°€ ì§ì ‘:
```bash
# 1. í†µí•© í…ŒìŠ¤íŠ¸
python -m pytest
# ë˜ëŠ”
FLASK_ENV=development python app.py

# 2. í…ŒìŠ¤íŠ¸ í†µê³¼ ì‹œ Push
git push origin feature/100P-123-email-verification

# 3. PR ìë™ ìƒì„± (Linear ì •ë³´ ê¸°ë°˜)
cd .claude
./create-pr.sh 100P-123
```

**create-pr.sh ìë™ ì²˜ë¦¬**:
- Linear MCPë¡œ Parent Issue ì •ë³´ ì¡°íšŒ (ì œëª©, ì„¤ëª…)
- Linear MCPë¡œ Sub Issueë“¤ ì •ë³´ ì¡°íšŒ (ID, ì œëª©)
- Claude Codeê°€ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ PR body ìë™ ì‘ì„±
- gh pr create ì‹¤í–‰ìœ¼ë¡œ PR ìƒì„±
- PR URL ì¶œë ¥

**ìˆ˜ë™ PR ìƒì„± (ì˜ˆì‹œ)**:
```bash
gh pr create --base main --head feature/100P-123-email-verification \
  --title "ì´ë©”ì¼ ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„" \
  --body "
## Summary
- ì¸ì¦ ì½”ë“œ ë°œì†¡ ê¸°ëŠ¥
- ì½”ë“œ ê²€ì¦ API
- UI í†µí•©

## Sub Issues
- #100P-124: ì¸ì¦ ì½”ë“œ ë°œì†¡
- #100P-125: ì½”ë“œ ê²€ì¦ API
- #100P-126: UI í†µí•©

## Test Plan
- [x] pytest í†µê³¼
- [x] ìˆ˜ë™ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
"
```

**PR Merge**:
```bash
gh pr merge --squash  # ë˜ëŠ” ì›¹ì—ì„œ merge
# â†’ main ë°°í¬ (GitHub Actions â†’ Synology)
```

**PRì˜ ì´ì **:
- ì—¬ëŸ¬ Sub Issueì˜ ì»¤ë°‹ë“¤ì„ í•˜ë‚˜ì˜ ë‹¨ìœ„ë¡œ ê·¸ë£¹í™”
- ë‚˜ì¤‘ì— ë¡¤ë°± ì‹œ ëª…í™•í•œ ì§€ì  ì œê³µ (`git revert PR#15`)
- ë³€ê²½ ì´ë ¥ ë¬¸ì„œí™” ë° ê²€ìƒ‰ ìš©ì´

## ì²´í¬ë¦¬ìŠ¤íŠ¸

### ìƒˆë¡œìš´ ê¸°ëŠ¥ êµ¬í˜„ ì‹œ
- [ ] ê¸°ëŠ¥ì„ ìµœì†Œ ë‹¨ìœ„ë¡œ ìª¼ê°œê¸°
- [ ] Parent-Sub êµ¬ì¡° í™•ì¸ (ì½”ë“œ ê²¹ì¹¨ ì—¬ë¶€)
- [ ] ê° Sub Issueì˜ ìˆ˜ì • íŒŒì¼ ëª©ë¡ ì‘ì„±
- [ ] task.json íŒŒì¼ ì‘ì„±
- [ ] Claudeì—ê²Œ "@task.json ì½ê³  Linear MCPë¡œ ì´ìŠˆ ìƒì„±í•´ì¤˜" ìš”ì²­
- [ ] ìƒì„±ëœ Parent Issue ID í™•ì¸
- [ ] `./ttalkak.sh {Parent-Issue-ID}` ì‹¤í–‰ â†’ Sub Issue ìë™ êµ¬í˜„
- [ ] `./integrate.sh {Parent-Issue-ID}` ì‹¤í–‰ â†’ Parent ë¸Œëœì¹˜ì— í†µí•©
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ ìˆ˜í–‰ (pytest, ìˆ˜ë™ í…ŒìŠ¤íŠ¸)
- [ ] í…ŒìŠ¤íŠ¸ í†µê³¼ ì‹œ Parent ë¸Œëœì¹˜ push
- [ ] `./create-pr.sh {Parent-Issue-ID}` ì‹¤í–‰ â†’ Linear ì •ë³´ë¡œ PR ìë™ ìƒì„±
- [ ] PR merge â†’ main ë°°í¬

## ì£¼ì˜ì‚¬í•­

- ğŸš¨ **ì½”ë“œ ê²¹ì¹¨ ìµœì†Œí™”**: ê°™ì€ íŒŒì¼ ìˆ˜ì •ì´ í•„ìš”í•˜ë©´ Lockìœ¼ë¡œ ìˆœì„œ ë³´ì¥
- ğŸš¨ **task.jsonì„ í•­ìƒ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€í•©ë‹ˆë‹¤**
- ğŸš¨ **ê° Sub IssueëŠ” ë…ë¦½ì ìœ¼ë¡œ ì™„ë£Œ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤**
- ğŸš¨ **Lockì€ í˜¼ë€ ë°©ì§€ìš©**: ì¶©ëŒì€ integrate.shì—ì„œ í•´ê²°ë˜ë¯€ë¡œ ê³¼ë„í•œ ê±±ì • ë¶ˆí•„ìš”
- ğŸš¨ **files ëª©ë¡ ëª…ì‹œ**: task.jsonì— ìˆ˜ì •í•  íŒŒì¼ ëª©ë¡ì„ ì •í™•íˆ ì‘ì„± (Lock ìë™ ìƒì„±)
